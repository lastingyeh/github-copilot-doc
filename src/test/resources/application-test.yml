spring:
  # 測試環境資料庫配置（由 Testcontainers 動態配置）
  datasource:
    # 由 Testcontainers 動態設定
    url: # 動態設定
    username: test
    password: test

  # 測試環境 JPA 配置
  jpa:
    hibernate:
      ddl-auto: create-drop
    show-sql: true
    properties:
      hibernate:
        '[format_sql]': true

  # 禁用 Flyway（測試使用 JPA DDL）
  flyway:
    enabled: false

  # 測試環境 Redis 配置（由 Testcontainers 動態配置）
  data:
    redis:
      host: localhost # 預設值，由 Testcontainers 動態覆蓋
      port: 6379 # 預設值，由 Testcontainers 動態覆蓋

# 測試環境日誌配置
logging:
  level:
    '[com.example.tinyurl]': DEBUG
    '[org.springframework.test]': INFO
    '[org.testcontainers]': INFO
    '[org.hibernate.SQL]': DEBUG

# 關閉管理端點（測試環境不需要）
management:
  endpoints:
    enabled-by-default: false
